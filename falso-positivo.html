<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Falso positivo | Secured</title>

    <!-- CSS espec√≠fico de esta pantalla -->
    <link rel="stylesheet" href="Secured-Landing-Page/public/assets/styles/falso-positivo.css" />
</head>
<body class="fp-page">
<main class="fp-wrapper">

    <!-- ============= VISTA 1: DETALLE DE INCIDENTE ============= -->
    <section class="fp-view fp-view-active" data-view="detalle">
        <header class="fp-page-header">
            <a href="home-policia.html" class="fp-back-link" aria-label="Volver">
                ‚Üê
            </a>
            <div class="fp-header-text">
                <p class="fp-breadcrumb">Detalle del incidente</p>
                <h1 class="fp-page-title">INC-2025-075</h1>
            </div>
        </header>

        <div class="fp-columns-3">
            <!-- Tarjeta de incidente -->
            <article class="fp-card fp-incident-card">
                <header class="fp-incident-header">
                    <div>
                        <h2 class="fp-incident-title">
                            Disturbio en v√≠a p√∫blica - Av. Central
                        </h2>
                        <p class="fp-incident-subtitle">
                            Tipo: Disturbio
                        </p>
                    </div>
                    <span class="fp-chip fp-chip-danger">Alta</span>
                </header>

                <ul class="fp-incident-meta">
                    <li>
                        <span class="fp-meta-label">Direcci√≥n</span>
                        <span class="fp-meta-value">Av. Central 892, Sector Centro</span>
                    </li>
                    <li>
                        <span class="fp-meta-label">Estado</span>
                        <span class="fp-meta-value fp-meta-pill">En curso</span>
                    </li>
                </ul>

                <div class="fp-dispatch-summary">
                    <p class="fp-dispatch-title">Despacho activo</p>
                    <p class="fp-dispatch-body">2 unidades asignadas</p>
                </div>
            </article>

            <!-- Falso positivo -->
            <article class="fp-card fp-false-positive-card">
                <header class="fp-card-header">
                    <div class="fp-icon-circle">!</div>
                    <div>
                        <h2 class="fp-card-title">Falso positivo</h2>
                        <p class="fp-card-subtitle">
                            Si verificaste que este incidente no corresponde a una
                            situaci√≥n real, puedes marcarlo como falso positivo.
                        </p>
                    </div>
                </header>

                <button
                        type="button"
                        class="fp-btn fp-btn-primary"
                        data-goto="marcar"
                >
                    ‚ö† Marcar como falso positivo
                </button>
            </article>

            <!-- Informaci√≥n importante -->
            <aside class="fp-card fp-important-card">
                <h2 class="fp-card-title">Importante</h2>
                <ul class="fp-important-list">
                    <li>Los falsos positivos se excluyen de KPIs y m√©tricas.</li>
                    <li>Si hay despacho activo, se liberar√°n las unidades.</li>
                    <li>Solo un supervisor puede revertir esta decisi√≥n.</li>
                </ul>
            </aside>
        </div>
    </section>

    <!-- ============= VISTA 2: MARCAR COMO FALSO POSITIVO ============= -->
    <section class="fp-view" data-view="marcar">
        <header class="fp-page-header">
            <button
                    class="fp-back-link"
                    type="button"
                    aria-label="Volver"
                    data-goto="detalle"
            >
                ‚Üê
            </button>
            <div class="fp-header-text">
                <p class="fp-breadcrumb">Marcar como falso positivo</p>
                <h1 class="fp-page-title">
                    Disturbio en v√≠a p√∫blica - Av. Central
                </h1>
            </div>
        </header>

        <section class="fp-card fp-banner-warning">
            <p class="fp-banner-title">Despacho activo</p>
            <p class="fp-banner-text">
                Este incidente tiene <strong>2 unidades asignadas</strong>.
                Al confirmar se liberar√°n las asignaciones y se notificar√° a las
                unidades.
            </p>
        </section>

        <form id="fpMarkForm" class="fp-card fp-form-card">
            <p class="fp-section-label">Motivo *</p>

            <div class="fp-reasons-list">
                <button type="button" class="fp-reason-row" data-reason="duplicado">
                    Reporte duplicado confirmado
                </button>
                <button type="button" class="fp-reason-row" data-reason="incorrecta">
                    Informaci√≥n verificada como incorrecta
                </button>
                <button type="button" class="fp-reason-row" data-reason="resuelta">
                    Situaci√≥n ya resuelta antes del reporte
                </button>
                <button type="button" class="fp-reason-row" data-reason="geolocalizacion">
                    Error en la geolocalizaci√≥n
                </button>
                <button type="button" class="fp-reason-row" data-reason="prueba">
                    Prueba o ejercicio del sistema
                </button>
                <button type="button" class="fp-reason-row" data-reason="broma">
                    Spam o broma confirmada
                </button>
                <button type="button" class="fp-reason-row" data-reason="otra-institucion">
                    Competencia de otra instituci√≥n
                </button>
                <button type="button" class="fp-reason-row" data-reason="otro">
                    Otro motivo‚Ä¶
                </button>
            </div>

            <div class="fp-field-group">
                <label for="fpEvidence" class="fp-section-label">
                    Adjuntar evidencia (opcional)
                </label>
                <p class="fp-field-helper">
                    Foto, documento o captura que respalde la decisi√≥n.
                </p>
                <label class="fp-file-input">
                    <input id="fpEvidence" type="file" />
                    <span>üìé Seleccionar archivo</span>
                </label>
            </div>

            <div class="fp-form-actions">
                <button
                        type="button"
                        class="fp-btn fp-btn-ghost"
                        data-goto="detalle"
                >
                    Cancelar
                </button>
                <button
                        type="submit"
                        class="fp-btn fp-btn-primary"
                        id="fpConfirmFalsePositive"
                >
                    Confirmar como falso positivo
                </button>
            </div>
        </form>
    </section>

    <!-- ============= VISTA 3: INCIDENTE - FALSO POSITIVO ============= -->
    <section class="fp-view" data-view="resumen">
        <header class="fp-page-header">
            <button
                    class="fp-back-link"
                    type="button"
                    aria-label="Volver"
                    data-goto="detalle"
            >
                ‚Üê
            </button>
            <div class="fp-header-text">
                <p class="fp-breadcrumb">Incidente ‚Äì Falso positivo</p>
                <h1 class="fp-page-title">INC-2025-075</h1>
            </div>

            <span class="fp-chip fp-chip-outline">Falso positivo</span>
        </header>

        <div class="fp-resumen-layout">
            <div class="fp-resumen-column">
                <article class="fp-card fp-incident-summary">
                    <p class="fp-summary-label">Marcado como falso positivo</p>
                    <h2 class="fp-summary-title">
                        Disturbio en v√≠a p√∫blica - Av. Central
                    </h2>
                    <p class="fp-summary-meta">
                        Marcado por:
                        <strong>Supervisor Garc√≠a</strong>
                    </p>
                    <p class="fp-summary-meta">
                        Motivo: <span id="fpResumenMotivo">Reporte duplicado confirmado</span>
                    </p>
                    <p class="fp-summary-meta">
                        Fecha: 28/10/2025 ¬∑ 11:23
                    </p>
                </article>

                <article class="fp-card fp-history-card">
                    <h3 class="fp-card-title">Historial de falso positivo</h3>
                    <ul class="fp-timeline">
                        <li class="fp-timeline-item">
                            <span class="fp-timeline-dot"></span>
                            <div>
                                <p class="fp-timeline-title">
                                    Marcado como falso positivo
                                </p>
                                <p class="fp-timeline-meta">
                                    Motivo: <span id="fpHistoryMotivo">Reporte duplicado confirmado</span>
                                    ¬∑ Por: Supervisor Garc√≠a ¬∑ 11:23
                                </p>
                            </div>
                        </li>
                        <li class="fp-timeline-item">
                            <span class="fp-timeline-dot fp-timeline-dot-secondary"></span>
                            <div>
                                <p class="fp-timeline-title">
                                    Unidades liberadas (2)
                                </p>
                                <p class="fp-timeline-meta">
                                    Por: Sistema autom√°tico ¬∑ 11:23
                                </p>
                            </div>
                        </li>
                    </ul>
                </article>
            </div>

            <div class="fp-resumen-column">
                <article class="fp-card fp-kpi-card">
                    <h3 class="fp-card-title">Excluido de KPIs</h3>
                    <p class="fp-kpi-text">
                        Este incidente no se considera en las m√©tricas operativas ni
                        en reportes estad√≠sticos.
                    </p>
                </article>

                <div class="fp-resumen-actions">
                    <button
                            type="button"
                            class="fp-btn fp-btn-secondary"
                            id="fpRevertBtn"
                    >
                        Revertir
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- ============= MODAL: MOTIVO DE REVERSE ============= -->
    <div class="fp-modal-overlay fp-modal-hidden" id="fpRevertModal">
        <div class="fp-modal" role="dialog" aria-modal="true">
            <h2 class="fp-modal-title">
                El incidente ser√° revertido de su estado falso positivo
            </h2>
            <p class="fp-modal-text">
                Por favor, explique el motivo. Esta informaci√≥n quedar√° registrada
                en la bit√°cora del incidente.
            </p>
            <textarea
                    id="fpRevertReason"
                    class="fp-modal-textarea"
                    rows="4"
                    placeholder="Ej: Se confirm√≥ que el incidente s√≠ correspond√≠a a una situaci√≥n real..."
            ></textarea>

            <div class="fp-modal-actions">
                <button
                        type="button"
                        class="fp-btn fp-btn-ghost"
                        id="fpModalCancel"
                >
                    ‚Üê Regresar
                </button>
                <button
                        type="button"
                        class="fp-btn fp-btn-primary"
                        id="fpModalConfirm"
                >
                    Enviar y continuar
                </button>
            </div>
        </div>
    </div>
</main>

<!-- JS espec√≠fico de esta pantalla -->
<script src="Secured-Landing-Page/public/assets/scripts/falso-positivo.js" defer></script>
</body>
</html>
