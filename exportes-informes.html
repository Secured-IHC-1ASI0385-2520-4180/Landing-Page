<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Exportes e informes</title>
    <link rel="stylesheet" href="Secured-Landing-Page/public/assets/styles/exportes-informes.css">
    <style>
        .panel-detalle {
            background: #e5e7eb;
            padding: 20px;
            border-radius: 10px;
            margin: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .filtros-exportes {
            display: flex;
            gap: 10px;
            margin: 20px;
        }
        .filtro-tab {
            padding: 8px 16px;
            border: none;
            background-color: #dbeafe; /* azul claro */
            color: #1e3a8a;            /* azul oscuro */
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s ease;
        }
        .filtro-tab:hover {
            background-color: #bfdbfe; /* azul m√°s intenso al pasar el mouse */
        }
        .filtro-tab.activo {
            background-color: #3b82f6; /* azul fuerte para el activo */
            color: white;
            font-weight: bold;
        }
        .notificacion-descarga {
            margin: 10px 20px;
            background-color: #dcfce7; /* verde claro */
            color: #166534;            /* verde oscuro */
            padding: 10px;
            border-radius: 6px;
        }
        /* Estilos para el footer */
        .footer {
            background-color: #111827; /* gris muy oscuro */
            color: white;
            padding: 40px 20px;
            margin-top: 40px;
        }
        .footer-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }
        .footer-column {
            flex: 1;
            min-width: 250px;
            margin-right: 20px;
        }
        .footer-logo {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        .footer-logo img {
            max-width: 50px;
            margin-right: 10px;
        }
        .footer-description {
            font-size: 14px;
            color: #9ca3af; /* gris claro */
        }
        .footer h4 {
            margin-bottom: 10px;
            font-size: 16px;
            color: #f3f4f6; /* gris muy claro */
        }
        .footer ul {
            list-style: none;
            padding: 0;
        }
        .footer ul li {
            margin-bottom: 8px;
        }
        .footer ul li a {
            color: #60a5fa; /* azul claro */
            text-decoration: none;
        }
        .footer ul li a:hover {
            text-decoration: underline;
        }
        .contact-list {
            padding-left: 0;
        }
        .contact-list li {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .contact-list .icon {
            margin-right: 10px;
            font-size: 18px;
        }
        .social-icons {
            display: flex;
            gap: 10px;
        }
        .social-icon {
            display: inline-block;
            width: 24px;
            height: 24px;
            background-color: #374151; /* gris oscuro */
            color: white;
            text-align: center;
            line-height: 24px;
            border-radius: 50%;
            transition: background-color 0.3s;
        }
        .social-icon:hover {
            background-color: #60a5fa; /* azul claro */
        }
        .footer-bottom {
            margin-top: 20px;
            border-top: 1px solid #374151; /* l√≠nea superior gris oscuro */
            padding-top: 10px;
            text-align: center;
        }
        .privacy-note {
            font-size: 12px;
            color: #9ca3af; /* gris claro */
        }
    </style>
</head>
<body>

<div class="encabezado">
    <button id="btn-back" class="back-arrow" aria-label="Volver">‚Üê</button>
    <h1>Exportes y solicitudes</h1>
    <button id="btn-mis-exportes" class="btn-azul">Mis exportes</button>
</div>

<!-- LISTA DE SOLICITUDES -->
<div class="hu33-container" id="lista-solicitudes">
    <div class="solicitud-card"
         data-id="EXP-2025-001"
         data-tipo="Custodia de evidencias"
         data-solicitante="Agt. P√©rez L√≥pez"
         data-fecha="31 oct 2025, 14:30"
         data-rango="Oct 1‚Äì31, 2025"
         data-tamano="245 MB"
         data-estado="pendiente"
         data-justificacion="Evidencias requeridas para proceso judicial caso #2025-0458"
         data-archivos='[{"nombre":"evidencia_001.jpg","tipo":"Foto","peso":"2.4 MB"},{"nombre":"grabacion_cctv_01.mp4","tipo":"Video","peso":"45.2 MB"},{"nombre":"evidencia_002.jpg","tipo":"Foto","peso":"1.8 MB"},{"nombre":"acta_incautacion.pdf","tipo":"Documento","peso":"0.3 MB"},{"nombre":"bodycam_agente_205.mp4","tipo":"Video","peso":"120.5 MB"}]'
         data-incidentes="3"
         data-peso-total="170.2 MB"
         data-traza='[{"evento":"Solicitud creada","usuario":"Agt. P√©rez L√≥pez","fecha":"31 oct 2025, 14:30"},{"evento":"Revisi√≥n iniciada","usuario":"Sup. Ram√≠rez","fecha":"31 oct 2025, 14:45"}]'>
        <div class="solicitud-header">
            <strong>EXP-2025-001</strong> | Custodia
            <span class="estado-label pendiente">Pendiente</span>
        </div>
        <div class="solicitud-detalle">
            <p><strong>Solicitante:</strong> Agt. P√©rez L√≥pez</p>
            <p><strong>Fecha:</strong> 31 oct 2025, 14:30</p>
            <p><strong>Rango de datos:</strong> Oct 1‚Äì31, 2025</p>
            <p><strong>Tama√±o estimado:</strong> 245 MB</p>
            <p><strong>Justificaci√≥n:</strong> Evidencias requeridas para proceso judicial caso #2025-0458</p>
        </div>
        <button class="btn-ver-detalle">Ver detalle</button>
    </div>

    <div class="solicitud-card"
         data-id="EXP-2025-002"
         data-tipo="Reporte mensual"
         data-solicitante="Cmte. Garc√≠a"
         data-fecha="31 oct 2025, 10:15"
         data-rango="Oct 25‚Äì31, 2025"
         data-tamano="12 MB"
         data-estado="aprobado"
         data-justificacion="Reporte mensual para direcci√≥n regional"
         data-archivos='[{"nombre":"reporte_octubre.pdf","tipo":"Documento","peso":"12 MB"}]'
         data-incidentes="0"
         data-peso-total="12 MB"
         data-traza='[{"evento":"Solicitud creada","usuario":"Cmte. Garc√≠a","fecha":"31 oct 2025, 10:15"},{"evento":"Aprobaci√≥n autom√°tica","usuario":"Sistema","fecha":"31 oct 2025, 10:20"}]'>
        <div class="solicitud-header">
            <strong>EXP-2025-002</strong> | Reporte
            <span class="estado-label aprobado">Aprobado</span>
        </div>
        <div class="solicitud-detalle">
            <p><strong>Solicitante:</strong> Cmte. Garc√≠a</p>
            <p><strong>Fecha:</strong> 31 oct 2025, 10:15</p>
            <p><strong>Rango de datos:</strong> Oct 25‚Äì31, 2025</p>
            <p><strong>Tama√±o estimado:</strong> 12 MB</p>
            <p><strong>Justificaci√≥n:</strong> Reporte mensual para direcci√≥n regional</p>
        </div>
        <button class="btn-ver-detalle">Ver detalle</button>
    </div>

    <div class="solicitud-card"
         data-id="EXP-2025-003"
         data-tipo="Custodia de evidencias"
         data-solicitante="Agt. Mart√≠nez"
         data-fecha="30 oct 2025, 16:45"
         data-rango="Oct 15‚Äì30, 2025"
         data-tamano="580 MB"
         data-estado="pendiente"
         data-justificacion="Respaldo de evidencias para auditor√≠a interna"
         data-archivos='[{"nombre":"auditoria_2025.zip","tipo":"Documento","peso":"580 MB"}]'
         data-incidentes="2"
         data-peso-total="580 MB"
         data-traza='[{"evento":"Solicitud creada","usuario":"Agt. Mart√≠nez","fecha":"30 oct 2025, 16:45"},{"evento":"Revisi√≥n iniciada","usuario":"Sup. Ram√≠rez","fecha":"30 oct 2025, 17:00"}]'>
        <div class="solicitud-header">
            <strong>EXP-2025-003</strong> | Custodia
            <span class="estado-label pendiente">Pendiente</span>
        </div>
        <div class="solicitud-detalle">
            <p><strong>Solicitante:</strong> Agt. Mart√≠nez</p>
            <p><strong>Fecha:</strong> 30 oct 2025, 16:45</p>
            <p><strong>Rango de datos:</strong> Oct 15‚Äì30, 2025</p>
            <p><strong>Tama√±o estimado:</strong> 580 MB</p>
            <p><strong>Justificaci√≥n:</strong> Respaldo de evidencias para auditor√≠a interna</p>
        </div>
        <button class="btn-ver-detalle">Ver detalle</button>
    </div>
    <div class="solicitud-card"
         data-id="EXP-2025-004"
         data-tipo="Reporte estad√≠stico"
         data-solicitante="Sup. Torres"
         data-fecha="30 oct 2025, 09:20"
         data-rango="Sep 1‚Äì30, 2025"
         data-tamano="8 MB"
         data-estado="rechazado"
         data-justificacion="An√°lisis estad√≠stico trimestral"
         data-archivos='[{"nombre":"estadisticas_q3.xlsx","tipo":"Documento","peso":"8 MB"}]'
         data-incidentes="0"
         data-peso-total="8 MB"
         data-traza='[{"evento":"Solicitud creada","usuario":"Sup. Torres","fecha":"30 oct 2025, 09:20"},
                  {"evento":"Rechazo manual","usuario":"Dir. T√©cnica","fecha":"30 oct 2025, 10:00"}]'>
        <div class="solicitud-header">
            <strong>EXP-2025-004</strong> | Reporte
            <span class="estado-label rechazado">Rechazado</span>
        </div>
        <div class="solicitud-detalle">
            <p><strong>Solicitante:</strong> Sup. Torres</p>
            <p><strong>Fecha:</strong> 30 oct 2025, 09:20</p>
            <p><strong>Rango de datos:</strong> Sep 1‚Äì30, 2025</p>
            <p><strong>Tama√±o estimado:</strong> 8 MB</p>
            <p><strong>Justificaci√≥n:</strong> An√°lisis estad√≠stico trimestral</p>
        </div>
        <button class="btn-ver-detalle">Ver detalle</button>
    </div>
</div>

<!-- DETALLE DE SOLICITUD -->
<div class="panel-detalle" id="detalle-solicitud" style="display:none;">
    <div class="detalle-contenido"></div>

</div>

<!-- VISTA MIS EXPORTES -->
<div id="vista-mis-exportes" style="display:none;">
    <div class="titulo-exportes">
        <h2>Mis exportes</h2>
        <p class="subtitulo">Solicitudes y descargas</p>
    </div>

    <div class="notificacion-descarga" id="notificacion-descarga" style="display:none;">
        ‚úÖ <strong>1 exporte listo para descargar</strong>
    </div>

    <div class="filtros-exportes">
        <button class="filtro-tab activo" data-filtro="todos">Todos</button>
        <button class="filtro-tab" data-filtro="aprobado">Aprobados</button>
        <button class="filtro-tab" data-filtro="pendiente">Pendientes</button>
        <button class="filtro-tab" data-filtro="rechazado">Rechazados</button>
    </div>

    <div class="hu33-container" id="bandeja-exportes"></div>
</div>

<!-- MODALES -->
<div id="modal-solicitud" class="modal-solicitud" style="display:none;">
    <div class="modal-contenido">
        <h2 id="modal-titulo"></h2>
        <p id="modal-mensaje"></p>

        <div id="modal-resumen"></div>

        <div id="bloque-rechazo" style="display:none;">
            <label for="motivo-rechazo">Motivo del rechazo *</label>
            <textarea id="motivo-rechazo" placeholder="Ej: El rango de datos solicitado excede el per√≠odo autorizado..."></textarea>
            <div id="error-rechazo" style="display:none;">Debes ingresar un motivo de rechazo.</div>
        </div>

        <p id="modal-nota"></p>

        <div class="acciones-modal">
            <button id="modal-cancelar" class="btn-secundario">Cancelar</button>
            <button id="modal-confirmar" class="btn-primario">Confirmar</button>
        </div>
    </div>
</div>

<!-- Footer -->
<footer class="footer">
    <div class="footer-container">
        <div class="footer-column">
            <div class="footer-logo">
                <img src="Secured-Landing-Page/public/assets/images/Secured_Logo_v1.png" alt="Secured Logo" />
                <h3>Secured</h3>
            </div>
            <p class="footer-description">Coordinaci√≥n inteligente para Serenazgo y Polic√≠a</p>
        </div>

        <div class="footer-column">
            <h4>Navegaci√≥n</h4>
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="#">Soluci√≥n</a></li>
                <li><a href="#">Startup</a></li>
                <li><a href="#">Equipo</a></li>
                <li><a href="#">Seguridad</a></li>
            </ul>
        </div>

        <div class="footer-column">
            <h4>Recursos</h4>
            <ul>
                <li><a href="#">Soporte</a></li>
                <li><a href="#">Documentaci√≥n</a></li>
                <li><a href="#">Privacidad</a></li>
                <li><a href="#">T√©rminos de servicio</a></li>
            </ul>
        </div>

        <div class="footer-column">
            <h4>Contacto</h4>
            <ul class="contact-list">
                <li>
                    <span class="icon">‚úâ</span>
                    <a href="mailto:contacto@secured.pe">contacto@secured.pe</a>
                </li>
                <li>
                    <span class="icon">üìû</span>
                    <a href="tel:+51987654321">+51 987 654 321</a>
                </li>
                <li>
                    <span class="icon">üìç</span>
                    <span>Lima, Per√∫</span>
                </li>
            </ul>
            <div class="social-icons">
                <a href="#" class="social-icon">f</a>
                <a href="#" class="social-icon">üê¶</a>
                <a href="#" class="social-icon">in</a>
            </div>
        </div>
    </div>

    <div class="footer-bottom">
        <p>¬© 2025 Secured. Todos los derechos reservados.</p>
        <p class="privacy-note">Secured no recopila informaci√≥n personal identificable sin consentimiento expl√≠cito. Ver <a href="#">Pol√≠tica de Privacidad</a></p>
    </div>
</footer>

<script src="Secured-Landing-Page/public/assets/scripts/exportes-informes.js"></script>
</body>
</html>