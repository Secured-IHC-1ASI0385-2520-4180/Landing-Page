<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Co-despacho de unidades</title>

    <link rel="stylesheet" href="Secured-Landing-Page/public/assets/styles/co-despacho.css" />
</head>
<body class="cd-page">
<main class="cd-wrapper">

    <!-- VISTA 1: CO-DESPACHAR UNIDADES (INICIO) -->
    <section class="cd-view cd-view-active" data-view="inicio">
        <header class="cd-page-header">
            <!-- Volver al dashboard -->
            <a href="home-policia.html" class="cd-back-button" aria-label="Volver">
                ‚Üê
            </a>
            <div class="cd-header-text">
                <h1 class="cd-page-title">Co-despachar unidades</h1>
                <p class="cd-page-subtitle">INC-2024-002</p>
            </div>
        </header>

        <section class="cd-layout-inicio">
            <!-- Columna izquierda: incidente -->
            <div class="cd-col">
                <article class="cd-card cd-incident-card">
                    <header class="cd-incident-header">
                        <div class="cd-priority-group">
                            <span class="cd-chip cd-chip-danger">Prioridad Alta</span>
                            <span class="cd-chip cd-chip-soft">
                  Accidente de tr√°nsito con heridos
                </span>
                        </div>
                        <div class="cd-incident-id">INC-2024-002</div>
                        <div class="cd-incident-location">
                            Cruce Av. Universitaria con Av. Venezuela
                        </div>
                    </header>
                </article>

                <article class="cd-card cd-info-card">
                    <div class="cd-info-icon">‚Ñπ</div>
                    <div class="cd-info-text">
                        <h2 class="cd-info-title">Co-despacho de m√∫ltiples unidades</h2>
                        <p class="cd-info-body">
                            Asigna una unidad primaria y unidades de apoyo al mismo incidente.
                            El sistema calcular√° el ETA combinado y enviar√° √≥rdenes
                            diferenciadas con roles espec√≠ficos.
                        </p>
                    </div>
                </article>
            </div>

            <!-- Columna centro: configuraci√≥n de roles -->
            <div class="cd-col">
                <h2 class="cd-section-title">Configuraci√≥n de roles</h2>

                <!-- Unidad primaria -->
                <article
                        class="cd-card cd-role-card cd-role-card-primary"
                        data-goto="seleccion"
                        data-role="primaria"
                >
                    <div class="cd-role-icon cd-role-icon-primary">‚òÖ</div>
                    <div class="cd-role-content">
                        <h3 class="cd-role-title">Unidad Primaria</h3>
                        <p class="cd-role-text">
                            Responsable principal del incidente. Debe llegar primero y
                            coordinar con los apoyos.
                        </p>
                        <div class="cd-role-footer">
                            <span class="cd-chip cd-chip-outline">Obligatorio (1)</span>
                            <span class="cd-role-tag">Primera en responder</span>
                        </div>
                    </div>
                </article>

                <!-- Unidades de apoyo -->
                <article
                        class="cd-card cd-role-card cd-role-card-support"
                        data-goto="seleccion"
                        data-role="apoyo"
                >
                    <div class="cd-role-icon cd-role-icon-support">üë•</div>
                    <div class="cd-role-content">
                        <h3 class="cd-role-title">Unidades de Apoyo</h3>
                        <p class="cd-role-text">
                            Brindan soporte especializado (K9, Tr√°nsito, Rescate, etc.) o
                            refuerzo adicional seg√∫n el tipo de incidente.
                        </p>
                        <div class="cd-role-footer">
                            <span class="cd-chip cd-chip-outline">Opcional (N)</span>
                            <span class="cd-role-tag">M√∫ltiples especialidades</span>
                        </div>
                    </div>
                </article>
            </div>

            <!-- Columna derecha: requisitos y alerta -->
            <div class="cd-col cd-col-right">
                <article class="cd-card cd-req-card">
                    <h2 class="cd-section-title">Requisitos del co-despacho</h2>
                    <ul class="cd-req-list">
                        <li>M√≠nimo 1 unidad primaria (obligatorio)</li>
                        <li>0 o m√°s unidades de apoyo seg√∫n necesidad</li>
                        <li>Todas las unidades recibir√°n orden individual con su rol</li>
                        <li>Opci√≥n de crear canal de coordinaci√≥n temporal</li>
                    </ul>
                </article>

                <article class="cd-card cd-alert-card">
                    <div class="cd-alert-header">
                        <span class="cd-alert-icon">‚ö†</span>
                        <span class="cd-alert-title">Incidente de prioridad alta</span>
                    </div>
                    <p class="cd-alert-text">
                        Considera asignar unidades de apoyo para garantizar una respuesta
                        r√°pida y efectiva. Queda 8 min de SLA.
                    </p>
                </article>
            </div>
        </section>

        <div class="cd-actions-bottom">
            <button
                    type="button"
                    class="cd-btn cd-btn-primary cd-btn-lg"
                    data-goto="seleccion"
                    data-role="primaria"
            >
                Seleccionar unidades
            </button>
        </div>
    </section>

    <!-- VISTA 2: SELECCIONAR UNIDADES (ROLES PRIMARIA / APOYO) -->
    <section class="cd-view" data-view="seleccion">
        <header class="cd-page-header">
            <button
                    class="cd-back-button"
                    type="button"
                    aria-label="Volver"
                    data-goto="inicio"
            >
                ‚Üê
            </button>
            <div class="cd-header-text">
                <h1 class="cd-page-title">Seleccionar unidades</h1>
                <p class="cd-page-subtitle">INC-2024-002</p>
            </div>
            <button type="button" class="cd-filter-icon" aria-label="Filtros">
                ‚õÉ
            </button>
        </header>

        <!-- Tarjeta: Asignando rol -->
        <section class="cd-card cd-assign-role-card">
            <h2 class="cd-section-title">Asignando rol:</h2>
            <div class="cd-role-tabs">
                <button
                        type="button"
                        class="cd-role-tab cd-role-tab-active"
                        data-role-switch="primaria"
                >
                    <span class="cd-role-tab-title">Primaria</span>
                    <span class="cd-role-tab-sub" id="cd-primaria-status">
              Requerido
            </span>
                </button>

                <button
                        type="button"
                        class="cd-role-tab"
                        data-role-switch="apoyo"
                >
                    <span class="cd-role-tab-title">Apoyo</span>
                    <span class="cd-role-tab-sub" id="cd-apoyo-status">
              0 seleccionados
            </span>
                </button>
            </div>
        </section>

        <!-- Tarjeta: Unidades seleccionadas -->
        <section class="cd-card cd-selected-card">
            <h2 class="cd-section-title">Unidades seleccionadas</h2>
            <div id="cd-selected-list" class="cd-selected-list">
                <p class="cd-muted">
                    A√∫n no has seleccionado unidades. Elige una unidad primaria para
                    continuar.
                </p>
            </div>
        </section>

        <!-- Lista de candidatos -->
        <section class="cd-candidates-section">
            <h2 class="cd-section-title">
                Candidatos disponibles <span class="cd-muted">(4)</span>
            </h2>

            <div class="cd-candidates-grid">
                <!-- PNP-102 -->
                <article
                        class="cd-unit-card"
                        data-unit-id="pnp-102"
                        data-unit-label="PNP-102"
                        data-eta="3 min"
                >
                    <div class="cd-unit-info">
                        <h3 class="cd-unit-title">PNP-102 ‚Ä¢ ABC-123</h3>
                        <p class="cd-unit-subtitle">Patrullero motorizado</p>
                        <div class="cd-unit-tags">
                            <span class="cd-tag">Patrullaje</span>
                        </div>
                        <p class="cd-unit-meta">
                            ETA: 3 min ¬∑ 0.8 km
                        </p>
                    </div>
                    <button
                            type="button"
                            class="cd-unit-add"
                            aria-label="Agregar unidad PNP-102"
                    >
                        +
                    </button>
                </article>

                <!-- TRA-401 -->
                <article
                        class="cd-unit-card"
                        data-unit-id="tra-401"
                        data-unit-label="TRA-401"
                        data-eta="5 min"
                >
                    <div class="cd-unit-info">
                        <h3 class="cd-unit-title">TRA-401 ‚Ä¢ DEF-456</h3>
                        <p class="cd-unit-subtitle">Tr√°nsito motorizado</p>
                        <div class="cd-unit-tags">
                            <span class="cd-tag">Tr√°nsito</span>
                        </div>
                        <p class="cd-unit-meta">
                            ETA: 5 min ¬∑ 1.2 km
                        </p>
                    </div>
                    <button
                            type="button"
                            class="cd-unit-add"
                            aria-label="Agregar unidad TRA-401"
                    >
                        +
                    </button>
                </article>

                <!-- K9-201 -->
                <article
                        class="cd-unit-card"
                        data-unit-id="k9-201"
                        data-unit-label="K9-201"
                        data-eta="7 min"
                >
                    <div class="cd-unit-info">
                        <h3 class="cd-unit-title">K9-201 ‚Ä¢ GHI-789</h3>
                        <p class="cd-unit-subtitle">Unidad canina</p>
                        <div class="cd-unit-tags">
                            <span class="cd-tag">K9</span>
                            <span class="cd-tag">Rescate</span>
                        </div>
                        <p class="cd-unit-meta">
                            ETA: 7 min ¬∑ 1.8 km
                        </p>
                    </div>
                    <button
                            type="button"
                            class="cd-unit-add"
                            aria-label="Agregar unidad K9-201"
                    >
                        +
                    </button>
                </article>

                <!-- RES-301 -->
                <article
                        class="cd-unit-card"
                        data-unit-id="res-301"
                        data-unit-label="RES-301"
                        data-eta="6 min"
                >
                    <div class="cd-unit-info">
                        <h3 class="cd-unit-title">RES-301 ‚Ä¢ JKL-012</h3>
                        <p class="cd-unit-subtitle">Rescate motorizado</p>
                        <div class="cd-unit-tags">
                            <span class="cd-tag">Rescate</span>
                        </div>
                        <p class="cd-unit-meta">
                            ETA: 6 min ¬∑ 1.5 km
                        </p>
                    </div>
                    <button
                            type="button"
                            class="cd-unit-add"
                            aria-label="Agregar unidad RES-301"
                    >
                        +
                    </button>
                </article>
            </div>
        </section>

        <div class="cd-actions-bottom cd-actions-bottom-right">
            <button
                    type="button"
                    id="cd-continue-btn"
                    class="cd-btn cd-btn-primary cd-btn-lg cd-btn-disabled"
                    disabled
            >
                Continuar (0 unidades)
            </button>
        </div>
    </section>

    <!-- VISTA 3: CONFIRMACI√ìN -->
    <section class="cd-view" data-view="confirmacion">
        <section class="cd-confirm-hero">
            <div class="cd-confirm-icon">‚úî</div>
            <h1 class="cd-confirm-title">Co-despacho configurado</h1>
            <p class="cd-confirm-subtitle">
                Las unidades seleccionadas han sido notificadas con sus roles.
            </p>
        </section>

        <section class="cd-card cd-confirm-details">
            <h2 class="cd-section-title">Resumen de co-despacho</h2>
            <dl class="cd-summary-list">
                <div>
                    <dt>Incidente</dt>
                    <dd>INC-2024-002</dd>
                </div>
                <div>
                    <dt>Unidad primaria</dt>
                    <dd id="cd-confirm-primaria">‚Äî</dd>
                </div>
                <div>
                    <dt>Unidades de apoyo</dt>
                    <dd id="cd-confirm-apoyos">Ninguna</dd>
                </div>
                <div>
                    <dt>Total de unidades</dt>
                    <dd id="cd-confirm-total">0</dd>
                </div>
            </dl>
        </section>

        <!-- NUEVAS ACCIONES -->
        <section class="cd-card cd-confirm-actions">
            <h2 class="cd-section-title">Acciones</h2>
            <div class="cd-confirm-actions-row">
                <a
                        href="seguimiento-mapa.html"
                        class="cd-btn cd-btn-secondary cd-btn-fullwidth-sm"
                >
                    Ver seguimiento en mapa
                </a>

                <button
                        type="button"
                        id="cd-cancel-dispatch"
                        class="cd-btn cd-btn-danger-outline cd-btn-fullwidth-sm"
                >
                    Anular co-despacho
                </button>
            </div>
            <p id="cd-cancel-message" class="cd-cancel-message" hidden>
                El co-despacho ha sido anulado. Puedes configurar nuevamente las
                unidades desde la pantalla inicial.
            </p>
        </section>

        <section class="cd-card cd-next-steps">
            <h2 class="cd-section-title">Pr√≥ximos pasos</h2>
            <ul class="cd-next-steps-list">
                <li>Cada unidad recibir√° su orden con el rol asignado.</li>
                <li>Monitorea el avance desde el dashboard de incidentes.</li>
                <li>
                    Puedes ajustar el co-despacho editando el incidente en cualquier
                    momento.
                </li>
            </ul>
        </section>

        <div class="cd-actions-bottom">
            <a
                    href="home-policia.html"
                    class="cd-btn cd-btn-primary cd-btn-lg cd-btn-full"
            >
                Volver al dashboard
            </a>
        </div>
    </section>
</main>

<!-- Footer -->
<footer class="footer">
    <div class="footer-container">
        <div class="footer-column">
            <div class="footer-logo">
                <img src="Secured-Landing-Page/public/assets/images/secured-logo-white.png" alt="Secured Logo" />
            </div>
            <p class="footer-description">Coordinaci√≥n inteligente para Serenazgo y Polic√≠a</p>
        </div>

        <div class="footer-column">
            <h4>Navegaci√≥n</h4>
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="#">Soluci√≥n</a></li>
                <li><a href="#">Startup</a></li>
                <li><a href="#">Equipo</a></li>
                <li><a href="#">Seguridad</a></li>
            </ul>
        </div>

        <div class="footer-column">
            <h4>Recursos</h4>
            <ul>
                <li><a href="#">Soporte</a></li>
                <li><a href="#">Documentaci√≥n</a></li>
                <li><a href="#">Privacidad</a></li>
                <li><a href="#">T√©rminos de servicio</a></li>
            </ul>
        </div>

        <div class="footer-column">
            <h4>Contacto</h4>
            <ul class="contact-list">
                <li>
                    <span class="icon">‚úâ</span>
                    <a href="mailto:contacto@secured.pe">contacto@secured.pe</a>
                </li>
                <li>
                    <span class="icon">üìû</span>
                    <a href="tel:+51987654321">+51 987 654 321</a>
                </li>
                <li>
                    <span class="icon">üìç</span>
                    <span>Lima, Per√∫</span>
                </li>
            </ul>
            <div class="social-icons">
                <a href="#" class="social-icon">f</a>
                <a href="#" class="social-icon">üê¶</a>
                <a href="#" class="social-icon">in</a>
            </div>
        </div>
    </div>

    <div class="footer-bottom">
        <p>¬© 2025 Secured. Todos los derechos reservados.</p>
        <p class="privacy-note">Secured no recopila informaci√≥n personal identificable sin consentimiento expl√≠cito. Ver <a href="#">Pol√≠tica de Privacidad</a></p>
    </div>
</footer>

<script src="Secured-Landing-Page/public/assets/scripts/co-despacho.js"></script>
</body>
</html>
