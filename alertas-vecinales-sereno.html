<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Alertas Vecinales</title>
    <link rel="stylesheet" href="Secured-Landing-Page/public/assets/styles/alertas-vecinales.css" />
</head>
<body>

<!-- VISTA 1: Lista de alertas vecinales -->
<div id="vista-lista-alertas" class="vista active">
    <header class="header">
        <button class="back-btn" onclick="window.location.href='home-serenazgo.html'">â†</button>
        <h1>Alertas Vecinales</h1>
        <button class="menu-btn">â‹®</button>
    </header>

    <!-- Lista de alertas -->
    <div class="alertas-lista">
        <!-- Alerta 1: Av. Los PrÃ³ceres 123 -->
        <div class="alerta-card" onclick="verDetalleAlerta('alert-001')">
            <div class="alerta-header">
                <div class="alerta-icon purple">
                    <span class="icon-bell">ğŸ””</span>
                </div>
                <div class="alerta-info">
                    <div class="alerta-badges">
                        <span class="badge-origen">Origen: Alarma vecinal</span>
                        <span class="badge-estado">â± Pendiente</span>
                    </div>
                    <h3>Sirena activada - Robo/Intento de hurto</h3>
                    <div class="alerta-ubicacion">
                        ğŸ“ Av. Los PrÃ³ceres 12
                    </div>
                    <div class="alerta-tiempo">
                        ğŸ• Recibida a las 20:41
                    </div>
                </div>
            </div>
            <button class="btn-validar" onclick="validarAlerta('alert-001'); event.stopPropagation()">
                Validar alerta
            </button>
        </div>

        <!-- Alerta 2: Jr. Las Palmas 456 -->
        <div class="alerta-card" onclick="verDetalleAlerta('alert-002')">
            <div class="alerta-header">
                <div class="alerta-icon purple">
                    <span class="icon-bell">ğŸ””</span>
                </div>
                <div class="alerta-info">
                    <div class="alerta-badges">
                        <span class="badge-origen">Origen: Alarma vecinal</span>
                        <span class="badge-estado">â± Pendiente</span>
                    </div>
                    <h3>Sirena activada - Disturbio pÃºblico</h3>
                    <div class="alerta-ubicacion">
                        ğŸ“ Jr. Las Palmas 456
                    </div>
                    <div class="alerta-tiempo">
                        ğŸ• Recibida a las 19:30
                    </div>
                </div>
            </div>
            <button class="btn-validar" onclick="validarAlerta('alert-002'); event.stopPropagation()">
                Validar alerta
            </button>
        </div>
    </div>
</div>

<!-- VISTA 2: Crear incidente desde alerta -->
<div id="vista-crear-incidente" class="vista">
    <header class="header">
        <button class="back-btn" onclick="cerrarCrearIncidente()">â†</button>
        <div class="header-content">
            <h1>Crear incidente</h1>
            <p class="subtitle">Desde alerta vecinal</p>
        </div>
    </header>

    <!-- InformaciÃ³n de la alerta -->
    <div class="alerta-origen-info">
        <div class="alerta-origen-icon">
            <span class="icon-bell-large">ğŸ””</span>
        </div>
        <div class="alerta-origen-details">
            <div class="origen-badge">Origen: Alarma vecinal</div>
            <div class="alr-codigo">ALR-001</div>
            <h3 id="alerta-titulo-crear">Sirena activada - Robo/Intento de hurto</h3>
            <div class="alerta-ubicacion-detalle">
                ğŸ“ <span id="alerta-ubicacion-crear">Av. Los PrÃ³ceres 12</span>
            </div>
            <div class="alerta-tiempo-detalle">
                ğŸ• <span id="alerta-tiempo-crear">Recibida a las 20:41</span>
            </div>
        </div>
    </div>

    <!-- Formulario de crear incidente -->
    <div class="formulario-incidente">
        <div class="form-group">
            <label>Tipo de incidente <span class="requerido">*</span></label>
            <select id="tipo-incidente" onchange="actualizarTipoIncidente()">
                <option value="robo-al-paso">Robo al paso</option>
                <option value="hurto">Hurto</option>
                <option value="disturbio">Disturbio pÃºblico</option>
                <option value="robo-arrebato">Robo/Arrebato</option>
            </select>
            <p class="form-help">Buscar en catÃ¡logo de tipos de incidentes</p>
        </div>

        <div class="form-group">
            <label>Prioridad <span class="requerido">*</span></label>
            <div class="prioridad-selector">
                <button class="prioridad-btn alta active" onclick="seleccionarPrioridad('alta')">Alta</button>
                <button class="prioridad-btn media" onclick="seleccionarPrioridad('media')">Media</button>
                <button class="prioridad-btn baja" onclick="seleccionarPrioridad('baja')">Baja</button>
            </div>
        </div>

        <div class="form-group">
            <label>DescripciÃ³n breve <span class="requerido">*</span></label>
            <textarea id="descripcion-incidente" placeholder="Describe los detalles del incidente basado en la alerta..."></textarea>
            <p class="contador-caracteres"><span id="contador">0</span>/500 caracteres</p>
        </div>

        <div class="form-group">
            <label>Adjuntar evidencias (opcional)</label>
            <div class="evidencias-botones">
                <button class="btn-evidencia" onclick="adjuntarFoto()">
                    ğŸ“· Foto
                </button>
                <button class="btn-evidencia" onclick="adjuntarAudio()">
                    ğŸ¤ Audio
                </button>
            </div>
            <p class="form-help">Las evidencias ayudan a documentar el incidente</p>
        </div>

        <div class="info-precargada">
            <div class="info-icon">ğŸ“„</div>
            <div class="info-texto">
                <strong>InformaciÃ³n precargada</strong>
                <p>La ubicaciÃ³n y datos del contacto ya estÃ¡n incluidos desde la alerta vecinal.</p>
            </div>
        </div>
    </div>

    <!-- Botones de acciÃ³n -->
    <div class="botones-footer">
        <button class="btn-secundario" onclick="cerrarCrearIncidente()">Cancelar</button>
        <button class="btn-primario" onclick="crearIncidenteDesdeAlerta()">âœ“ Crear incidente</button>
    </div>
</div>

<!-- VISTA 3: Detalle de incidente creado (con tabs) -->
<div id="vista-detalle-incidente" class="vista">
    <header class="header">
        <button class="back-btn" onclick="volverAListaAlertas()">â†</button>
        <div class="header-content">
            <div class="incidente-titulo-header">
                <span class="incidente-label">Incidente</span>
                <span class="incidente-codigo" id="codigo-incidente">SEC-01234</span>
            </div>
            <h1 id="titulo-incidente">Robo/Arrebato</h1>
        </div>
        <button class="prioridad-badge alta">Alta</button>
    </header>

    <!-- InformaciÃ³n de origen -->
    <div class="origen-badges-bar">
        <span class="badge-origen-small">ğŸ”” Origen: Alarma vecinal</span>
        <span class="badge-estado-small">â± Pendiente</span>
    </div>

    <!-- Tabs de navegaciÃ³n -->
    <div class="tabs-nav">
        <button class="tab active" onclick="cambiarTab('resumen')">Resumen</button>
        <button class="tab" onclick="cambiarTab('ubicacion')">UbicaciÃ³n</button>
        <button class="tab" onclick="cambiarTab('bitacora')">BitÃ¡cora</button>
    </div>

    <!-- Tab: Resumen -->
    <div id="tab-resumen" class="tab-content active">
        <!-- Mensaje de Ã©xito (se muestra temporalmente) -->
        <div id="mensaje-exito" class="mensaje-exito">
            <div class="exito-icon">âœ“</div>
            <div class="exito-texto">
                <strong>Incidente creado exitosamente</strong>
                <p>El incidente se ha registrado y estÃ¡ listo para asignaciÃ³n</p>
            </div>
        </div>

        <!-- Detalles del incidente -->
        <div class="seccion-detalles">
            <h2>ğŸ“„ Detalles del incidente</h2>
            <div class="detalle-item">
                <span class="detalle-label">CÃ³digo:</span>
                <span class="detalle-valor" id="detalle-codigo">SEC-01234</span>
            </div>
            <div class="detalle-item">
                <span class="detalle-label">Tipo:</span>
                <span class="detalle-valor" id="detalle-tipo">Robo/Arrebato</span>
            </div>
            <div class="detalle-item">
                <span class="detalle-label">Estado:</span>
                <span class="detalle-valor estado-badge">Pendiente asignaciÃ³n</span>
            </div>
            <div class="detalle-item">
                <span class="detalle-label">Prioridad:</span>
                <span class="detalle-valor prioridad-alta">Alta</span>
            </div>
            <div class="detalle-item">
                <span class="detalle-label">Creado:</span>
                <span class="detalle-valor" id="detalle-creado">Hoy a las 20:45</span>
            </div>
        </div>

        <!-- Contacto alertante -->
        <div class="seccion-contacto">
            <h2>ğŸ“ Contacto alertante</h2>
            <div class="contacto-card">
                <div class="contacto-avatar">JV</div>
                <div class="contacto-info">
                    <h3>Junta Vecinal Las Flores</h3>
                    <p class="contacto-telefono">987-654-321</p>
                    <p class="contacto-verificado">âœ“ Contacto verificado</p>
                </div>
            </div>
            <button class="btn-llamar">ğŸ“ Llamar al alertante</button>
        </div>

        <!-- InformaciÃ³n de origen -->
        <div class="seccion-origen">
            <div class="origen-icon">â­•</div>
            <div class="origen-texto">
                <strong>Creado desde alarma vecinal</strong>
                <p>Este incidente fue creado desde una alarma vecinal. Toda la cadena de eventos estÃ¡ registrada en la bitÃ¡cora.</p>
            </div>
        </div>

        <!-- Botones de acciÃ³n -->
        <div class="acciones-principales">
            <button class="btn-asignar" onclick="asignarUnidad()">ğŸ‘¥ Asignar unidad</button>
            <div class="acciones-secundarias">
                <button class="btn-accion-sec" onclick="solicitarApoyo()">â± Solicitar apoyo</button>
                <button class="btn-accion-sec" onclick="verEvidencias()">ğŸ“· Evidencias</button>
            </div>
        </div>
    </div>

    <!-- Tab: UbicaciÃ³n -->
    <div id="tab-ubicacion" class="tab-content">
        <div class="mapa-ubicacion">
            <img id="mapa-alerta" src="Secured-Landing-Page/public/assets/images/alertas-vecinales-1.png" alt="Mapa de ubicaciÃ³n" class="mapa-img" />
        </div>

        <div class="ubicacion-detalles">
            <h3 id="direccion-ubicacion">Av. Los PrÃ³ceres 123</h3>
            <p class="distrito-ubicacion" id="distrito-ubicacion">San Juan de Lurigancho, Lima</p>
            <div class="precision-gps">
                ğŸ“ PrecisiÃ³n GPS: 12m
            </div>
        </div>

        <div class="puntos-interes">
            <h3>Puntos de interÃ©s cercanos</h3>
            <div class="punto-item">
                <div class="punto-icon azul">ğŸš”</div>
                <div class="punto-info">
                    <h4>ComisarÃ­a PNP</h4>
                    <p>0.8 km</p>
                </div>
            </div>
            <div class="punto-item">
                <div class="punto-icon verde">ğŸ‘¥</div>
                <div class="punto-info">
                    <h4>Junta Vecinal</h4>
                    <p>0.1 km</p>
                </div>
            </div>
        </div>

        <button class="btn-asignar" onclick="asignarUnidad()">ğŸ‘¥ Asignar unidad</button>
        <div class="acciones-secundarias">
            <button class="btn-accion-sec" onclick="solicitarApoyo()">â± Solicitar apoyo</button>
            <button class="btn-accion-sec" onclick="verEvidencias()">ğŸ“· Evidencias</button>
        </div>
    </div>

    <!-- Tab: BitÃ¡cora -->
    <div id="tab-bitacora" class="tab-content">
        <div class="bitacora-container">
            <h2>â± BitÃ¡cora de eventos</h2>

            <!-- Evento 1 -->
            <div class="bitacora-evento">
                <div class="evento-icon morado">ğŸ””</div>
                <div class="evento-contenido">
                    <div class="evento-tiempo">20:41</div>
                    <h4>Sistema</h4>
                    <p>Alerta vecinal recibida desde sirena comunitaria</p>
                </div>
            </div>

            <!-- Evento 2 -->
            <div class="bitacora-evento">
                <div class="evento-icon azul">âœ“</div>
                <div class="evento-contenido">
                    <div class="evento-tiempo">20:43</div>
                    <h4>Operador Torres</h4>
                    <p>Alerta validada - UbicaciÃ³n coherente y contacto verificado</p>
                </div>
            </div>

            <!-- Evento 3 -->
            <div class="bitacora-evento">
                <div class="evento-icon verde">ğŸ“„</div>
                <div class="evento-contenido">
                    <div class="evento-tiempo">20:45</div>
                    <h4>Operador Torres</h4>
                    <p>Incidente SEC-42437 creado desde alarma vecinal</p>
                </div>
            </div>
        </div>

        <button class="btn-asignar" onclick="asignarUnidad()">ğŸ‘¥ Asignar unidad</button>
        <div class="acciones-secundarias">
            <button class="btn-accion-sec" onclick="solicitarApoyo()">â± Solicitar apoyo</button>
            <button class="btn-accion-sec" onclick="verEvidencias()">ğŸ“· Evidencias</button>
        </div>
    </div>
</div>

<!-- Footer -->
<footer class="footer">
    <div class="footer-container">
        <div class="footer-column">
            <div class="footer-logo">
                <img src="Secured-Landing-Page/public/assets/images/secured-logo-white.png" alt="Secured Logo" />
            </div>
            <p class="footer-description">CoordinaciÃ³n inteligente para Serenazgo y PolicÃ­a</p>
        </div>

        <div class="footer-column">
            <h4>NavegaciÃ³n</h4>
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="#">SoluciÃ³n</a></li>
                <li><a href="#">Startup</a></li>
                <li><a href="#">Equipo</a></li>
                <li><a href="#">Seguridad</a></li>
            </ul>
        </div>

        <div class="footer-column">
            <h4>Recursos</h4>
            <ul>
                <li><a href="#">Soporte</a></li>
                <li><a href="#">DocumentaciÃ³n</a></li>
                <li><a href="#">Privacidad</a></li>
                <li><a href="#">TÃ©rminos de servicio</a></li>
            </ul>
        </div>

        <div class="footer-column">
            <h4>Contacto</h4>
            <ul class="contact-list">
                <li>
                    <span class="icon">âœ‰</span>
                    <a href="mailto:contacto@secured.pe">contacto@secured.pe</a>
                </li>
                <li>
                    <span class="icon">ğŸ“</span>
                    <a href="tel:+51987654321">+51 987 654 321</a>
                </li>
                <li>
                    <span class="icon">ğŸ“</span>
                    <span>Lima, PerÃº</span>
                </li>
            </ul>
            <div class="social-icons">
                <a href="#" class="social-icon">f</a>
                <a href="#" class="social-icon">ğŸ¦</a>
                <a href="#" class="social-icon">in</a>
            </div>
        </div>
    </div>

    <div class="footer-bottom">
        <p>Â© 2025 Secured. Todos los derechos reservados.</p>
        <p class="privacy-note">Secured no recopila informaciÃ³n personal identificable sin consentimiento explÃ­cito. Ver <a href="#">PolÃ­tica de Privacidad</a></p>
    </div>
</footer>

<!-- JS especÃ­fico -->
<script src="Secured-Landing-Page/public/assets/scripts/alertas-vecinales.js"></script>
</body>
</html>

