<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>HU32 - Historial de Agentes</title>
    <link rel="stylesheet" href="Secured-Landing-Page/public/assets/styles/historial-agentes.css">
</head>
<body>
<!-- CONTENEDOR PRINCIPAL CENTRADO -->
<div class="outer-container">
    <!-- FLECHA VOLVER -->
    <button id="btn-back" class="back-arrow" aria-label="Volver">‚Üê </button>

    <!-- CONTENIDO: FORMULARIO (CENTRADO) + CONSULTAS (A LA DERECHA) -->
    <div class="content-wrapper">

        <!-- FORMULARIO (lado izquierdo dentro del bloque centrado) -->
         <section id="pantalla1" class="pantalla active">
                <h2>Historial de Agentes</h2>
                <div class="content-wrapper">
                <main class="form-wrapper">
                <form id="form-agente" autocomplete="off" onsubmit="return false;">
                    <!-- Agente -->
                    <div class="campo">
                        <label for="agente">Agente:</label>
                        <input type="text" id="agente" placeholder="Ingrese nombre del agente">
                    </div>

                    <!-- Rango r√°pido -->
                    <div class="campo">
                        <label>Rango r√°pido:</label>
                        <div class="botones-rango">
                            <button type="button" class="btn-rango" data-rango="hoy">Hoy</button>
                            <button type="button" class="btn-rango" data-rango="ayer">Ayer</button>
                            <button type="button" class="btn-rango" data-rango="7d">7 d√≠as</button>
                            <button type="button" class="btn-rango" data-rango="personalizado">Personalizado</button>
                        </div>
                    </div>

                    <!-- Fechas -->
                    <div class="row">
                        <div class="campo col">
                            <label for="desde">Desde:</label>
                            <input type="date" id="desde">
                        </div>
                        <div class="campo col">
                            <label for="hasta">Hasta:</label>
                            <input type="date" id="hasta">
                        </div>
                    </div>

                    <!-- Acciones: solo Aplicar -->
                    <div class="acciones-form">
                        <button type="button" id="btn-aplicar" class="btn-primario disabled" disabled>Aplicar</button>
                    </div>

                    <!-- Info azul -->
                    <div class="info-box">
                        <strong>Informaci√≥n</strong>
                        <p>Rango m√°ximo: 30 d√≠as</p>
                        <p>Datos disponibles de los √∫ltimos 90 d√≠as</p>
                        <p>Incluye telemetr√≠a, eventos y m√©tricas</p>
                        <p>Requiere permisos de lectura de historial</p>
                    </div>
                </form>
                </main>
                <aside class="consultas-panel">
                    <div class="consultas-header"><h3>Consultas recientes</h3></div>

                    <div class="consulta-card" role="button" tabindex="0"
                         data-nombre="Carlos Ruiz ‚Ä¢ PNP-001" data-rangotype="hoy">
                        <div class="consulta-nombre">Carlos Ruiz ‚Ä¢ PNP-001</div>
                        <div class="consulta-fecha small">Hoy</div>
                    </div>

                    <div class="consulta-card" role="button" tabindex="0"
                         data-nombre="Ana L√≥pez ‚Ä¢ SER-023" data-rangotype="ayer">
                        <div class="consulta-nombre">Ana L√≥pez ‚Ä¢ SER-023</div>
                        <div class="consulta-fecha small">Ayer</div>
                    </div>

                    <div class="consulta-card" role="button" tabindex="0"
                         data-nombre="Pedro S√°nchez ‚Ä¢ PNP-045" data-rangotype="7d">
                        <div class="consulta-nombre">Pedro S√°nchez ‚Ä¢ PNP-045</div>
                        <div class="consulta-fecha small">Semana</div>
                    </div>
                </aside>
         </section>
    </div>
</div>

<!-- PANTALLA 2: MAPA -->
<section id="pantalla-mapa" class="pantalla">
    <div class="header-mapa">
        <h2>Historial de agente</h2>
    </div>

    <p><strong id="nombre-agente-mapa">[Agente]</strong> ‚Ä¢ <span id="rango-fecha-mapa">[Rango]</span></p>
    <div class="mapa-container">
        <!-- Mapa -->
        <div id="mapa">
            <img id="mapa-img" src="Secured-Landing-Page/public/assets/images/mapa_agente.png" alt="Mapa de recorrido">
            <div class="map-overlay">
                Reproduciendo: <span id="progress-label">0%</span>
            </div>
            <div class="recorrido-info">
                <p>Reproducci√≥n del recorrido<br>400 puntos ‚Ä¢ Posici√≥n 0/100</p>
                <p>Mostrando paradas</p>
            </div>
        </div>
    </div>

      <!-- Controles de reproducci√≥n -->
     <div class="player-controls">
        <button id="btn-play" class="btn-primario">Iniciar</button>
        <button id="btn-pause" class="btn-secundario">Pausar</button>
        <div class="progress-bar"><div id="progress-fill" class="progress-fill"></div></div>
     </div>

        <!-- Observaciones -->
        <div class="observacion-box" id="box-observacion">
            <h4>Observaciones de coaching</h4>
            <p>Excelente tiempo de respuesta en incidente RB-01. Protocolo aplicado correctamente.</p>
            <p><strong>Protocolo:</strong> Puntualidad<br><strong>Supervisor:</strong> Garc√≠a<br><strong>Fecha:</strong> 30/10/2024 14:30</p>
        </div>
    <!-- Acciones -->
    <div class="acciones">
        <button id="btn-exportar" class="export-icon" title="Exportar">üì§</button>
    </div>

</section>


<!-- PANTALLA 3: EXPORTACI√ìN -->
<!-- MODAL EXPORTAR -->
<div id="modal-exportar" class="modal-overlay" style="display: none;">
    <section class="modal-exportar">
        <h2>Exportar historial</h2>
        <p><strong>Carlos Ruiz - PNP-001</strong> ‚Ä¢ 31/10/2025 00:00 - 23:59</p>

        <!-- Selecci√≥n de formato -->
        <div class="export-formato">
            <h3>Formato de exportaci√≥n</h3>
            <div class="opciones-formato">
                <button type="button" id="opcion-csv" class="btn-formato">CSV</button>
                <button type="button" id="opcion-pdf" class="btn-formato">PDF</button>
            </div>
        </div>


        <!-- Opciones generales -->
        <div class="export-incluir">
            <h3>Incluir en exportaci√≥n</h3>
            <p>Eventos (turnos, despachos, estados, incidentes)</p>
            <p>Telemetr√≠a (puntos GPS, velocidad, rumbo)</p>
            <p>Coordenadas exactas</p>
        </div>

        <!-- Privacidad y auditor√≠a -->
        <div class="export-privacidad">
            <h3>Privacidad y auditor√≠a</h3>
            <p><strong>Difuminar direcciones</strong><br>
                <small>Oculta direcciones exactas y coordenadas sensibles para proteger privacidad</small></p>
            <p><strong>Registro de auditor√≠a</strong><br>
                <small>Esta exportaci√≥n quedar√° registrada en la bit√°cora del sistema con fecha, hora y usuario</small></p>
        </div>

        <!-- Botones din√°micos -->
        <div class="acciones-exportar">
            <button id="cerrar-exportar" class="btn-secundario">Cancelar</button>
            <button id="btn-exportar-final" class="btn-primario" style="display:none;">Exportar</button>
        </div>
    </section>
</div>

<script src="Secured-Landing-Page/public/assets/scripts/historial-agentes.js"></script>
<script>
    function generarCSV() {
        alert("Exportando en CSV...");
    }

    function generarPDF() {
        alert("Exportando en PDF...");
    }
</script>

<!-- Footer -->
<footer class="footer">
    <div class="footer-container">
        <div class="footer-column">
            <div class="footer-logo">
                <img src="Secured-Landing-Page/public/assets/images/Secured_Logo_v1.png" alt="Secured Logo" />
                <h3>Secured</h3>
            </div>
            <p class="footer-description">Coordinaci√≥n inteligente para Serenazgo y Polic√≠a</p>
        </div>

        <div class="footer-column">
            <h4>Navegaci√≥n</h4>
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="#">Soluci√≥n</a></li>
                <li><a href="#">Startup</a></li>
                <li><a href="#">Equipo</a></li>
                <li><a href="#">Seguridad</a></li>
            </ul>
        </div>

        <div class="footer-column">
            <h4>Recursos</h4>
            <ul>
                <li><a href="#">Soporte</a></li>
                <li><a href="#">Documentaci√≥n</a></li>
                <li><a href="#">Privacidad</a></li>
                <li><a href="#">T√©rminos de servicio</a></li>
            </ul>
        </div>

        <div class="footer-column">
            <h4>Contacto</h4>
            <ul class="contact-list">
                <li>
                    <span class="icon">‚úâ</span>
                    <a href="mailto:contacto@secured.pe">contacto@secured.pe</a>
                </li>
                <li>
                    <span class="icon">üìû</span>
                    <a href="tel:+51987654321">+51 987 654 321</a>
                </li>
                <li>
                    <span class="icon">üìç</span>
                    <span>Lima, Per√∫</span>
                </li>
            </ul>
            <div class="social-icons">
                <a href="#" class="social-icon">f</a>
                <a href="#" class="social-icon">üê¶</a>
                <a href="#" class="social-icon">in</a>
            </div>
        </div>
    </div>

    <div class="footer-bottom">
        <p>¬© 2025 Secured. Todos los derechos reservados.</p>
        <p class="privacy-note">Secured no recopila informaci√≥n personal identificable sin consentimiento expl√≠cito. Ver <a href="#">Pol√≠tica de Privacidad</a></p>
    </div>
</footer>

</body>
</html>